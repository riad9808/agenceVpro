<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="initial-scale=1", content="width=device-width">
	<title>Inscription</title>
	
	  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	
	<meta name="viewport" content="initial-scale=1", content="width=device-width">
	<link rel="stylesheet" type="text/css" href="materialize/css/materialize.css">
	<script type="text/javascript" src="JS/jquery.min.js"></script>
<script src="materialize/js/materialize.js"></script>
	
	
	<link rel="stylesheet" type="text/css" href="css/inscription.css">
	<script type="text/javascript">
	  $(document).ready(function() {
		  $('.modal').modal();

		    M.updateTextFields();
		   	
		    $('.sidenav').sidenav();
		  
	  
			$("#idForm").submit(function(e) {
				
			    var url = "inscriptionClientControl"; 
			    e.preventDefault();
			    $.ajax({
			    	
			           type: "POST",
			           url: url,
			           data: $("#idForm").serialize(), 
			           success: function (data) {
			        	   if(data=="yes"){
			        		   $('.modal').modal('open');
			        		   console.log(data);
			        	   }else{
			        		   alert(data);
			        	   }

			        		  
			        	   
			        
			        	
			        	  	
			            },
			            
			           
			});

			});
			
	$("#formcode").submit(function(e) {
			    var url = "inscriptionClientControl"; 
			    e.preventDefault();
			    $.ajax({
			    	
			           type: "GET",
			           url: url,
			           data: $("#formcode").serialize(), 
			           success: function (data) {
			        	   if(data=="ok"){
			        		   window.location.href='MenuClient.jsp';
			        	   }else

			        		 alert(data);
			        	   
			        
			        	
			        	  	
			            },
			            
			           
			});

			});
			
	  
	window.history.pushState(null, "", window.location.href);        
	window.onpopstate = function() {
	    window.history.pushState(null, "", window.location.href);
	};
	  
	  
	  });
	  
	  function validate() {
		    var nom=document.getElementById



		    var a = document.getElementById('password');
		    var b = document.getElementById('password1');
		    if (a.value!=b.value) {
		        a.style.border = "2px solid red";
		        a.style.borderRadius = "4px";
		        b.style.border = "2px solid red";
		        b.style.borderRadius = "4px";
		        
		        return false;
		        }
		    else {
		        if(a.value==""){
		            return false;
		        }else{
		        a.style.backgroundColor = "";
		        b.style.backgroundColor = "";
		        return true;
		        }
		   }
		   
		 }
		       </script>
</head>
<body>
	



<nav>
    <div class="nav-wrapper cyan darken-4">
    <div class="container">	
      <a href="index.html" class="brand-logo">vPro</a>
      <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
      <ul class="right hide-on-med-and-down">
        
        <li><a href="identification.html">s'identifier</a></li>
      </ul>
      </div>
    </div>
  </nav>
<div class="container">	
  <ul class="sidenav" id="mobile-demo">
     
    <li><a href="identification.html">s'identifier</a></li>
  </ul>



	
        
  	
		  <div class="row">
    <form class="col s12 " action="inscriptionClientControl" method="post" id="idForm" onsubmit="return validate()">
      <div class="card  blue-grey lighten-4">
        <div class="card-content ">
          <span class="card-title blue-grey-text lighten-4-text ">Formulaire d'inscription</span>
          	<div class="row">
   
      <div class="row">
        <div class="input-field col s6">
          <input id="nom" type="text"  required="required" name="nom">
          <label for="nom">nom</label>
        </div>
        <div class="input-field col s6">
          <input id="prenom" type="text" class="validate" required="required" name="prenom">
          <label for="prenom">Prenom</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s6">
        
  <input type="date"  name="dateNaissence" required="required">
        
          <label for="date">date de naissance</label>
        </div>
      
      <div class="input-field col s6">
          <input id="npermis" type="text" maxlength="7" minlength="7" class="validate" required="required" pattern="-?[0-9]*(\.[0-9]+)?" name="numPermisConduire">
          <label for="npermis">Numero permis de conduire</label>
          <span class="helper-text" data-error="wrong" data-success="right"></span>
        </div></div>
      <div class="row">
        <div class="input-field col s6">
          <input id="telephone" type="text" maxlength="10" minlength="10" class="validate" required="required" pattern="-?[0-9]*(\.[0-9]+)?" name="NumeroDeTelephone">
          <label for="telephone">Numero de telephone</label>
          <span class="helper-text" data-error="wrong" data-success="right"></span>
        </div>
      </div>
       <div class="row">
        <div class="input-field col s6">
          <input id="email" type="email" class="validate" name="mail" required="required">
          <label for="email">Email</label>
          <span class="helper-text" data-error="wrong" data-success="right"></span>
        </div>
      
        <div class="input-field col s6">
          <input id="adresse" type="text" class="validate" required="required" name="adresse">
          <label for="adresse">adresse</label>
        </div>
      </div>
      <div class="row">
      <div class="input-field col s6">
          <input id="utlisateur" type="text" class="validate" required="required" name="nomUser" value="">
          <label for="utlisateur">nom d'utlisateur</label>
        </div></div>
        <div class="row">
        <div class="input-field col s12">
        <div class="input-field col s6">
          <input id="password" type="password" maxlength="10" minlength="5" class="validate" required="required" name="password">
          <label for="password">mot de passe</label>
        </div>
        <div class="input-field col s6">
          <input id="password1" type="password" maxlength="10" minlength="5" class="validate" required="required" name="password1">
          <label for="password1">confirmer le mot de passe</label>
        </div></div></div>
       
        </div>
        <div class="card-action">
          <button   class="waves-effect waves-blue blue-grey btn  white-text text-lighten-2 btn-large " style="size:100%;">submit</button>
          
        </div>
      </div>
      </div>
    </form>
    
  </div>
 </div> 
 <form  id="formcode" action="inscriptionClientControl" method="get">        
  <div id="modal1" class="modal">
    <div class="modal-content">
      <h4>Entrez le code de confimration</h4>
      
      
      	<div class="input-field col s6">
          <input type="number" name="code" id="cd">
          <label for="cd">code de confirmation</label>
        </div>
        
      
    </div>
    <div class="modal-footer">
      <button class="e waves-effect waves-green btn-flat">confirmer</button>
    </div>
    </div>
    </form>
</body>
</html>
